*** Settings ***
Library    SeleniumLibrary
Suite Teardown    Close All Browsers

*** Variables ***
${ONLINE_TEXT}   You're now online!
${OFFLINE_TEXT}  You're offline now!
${PROVIDER_EMAIL}    raghuram.m+02@taskhuman.com
${PROVIDER_PASSWORD}    asdfgh@12345A
${CONSUMER_EMAIL}    raghuram.m+01@taskhuman.com
${CONSUMER_PASSWORD}    asdfgh@12345A

*** Test Cases ***
Open the browser and login as Consumer
    Open Browser   https://app-dev.taskhuman.com/login    chrome
    Maximize Browser Window
    Wait Until Element Is Visible    xpath://div[@class='Login-module__signup-text css-0']
    Sleep    5s
    Click Element    xpath://div[@class='Login-module__signup-text css-0']
    Wait Until Element Is Visible    id:field-:r0:
    Sleep    8s
    Click Element    xpath://input[@id='field-:r0:']
    Input Text    id:field-:r0:    ${CONSUMER_EMAIL}
    Sleep    5s
    Click Element    xpath://input[@id='field-:r1:']
    Input Text    id:field-:r1:    ${CONSUMER_PASSWORD}
    Sleep    5s
    Click Element    xpath://button[@value='submit']
    Sleep    3s

Goto provider profile and book a session
    Go To    https://app-dev.taskhuman.com/profile/5391
    Sleep    5s
    Wait Until Element Is Visible    xpath=//img[@src='/6e389bc7e0a35c6cbbb7.svg']    5s
    Click Element    xpath=//img[@src='/6e389bc7e0a35c6cbbb7.svg']
    Sleep    5s
    Wait Until Page Contains Element    xpath://*[text()='Select a Topic']    4s
    Sleep    2s
    Wait Until Element Is Visible    xpath=//span[contains(@class, 'BookingForm-module__Topic--Tag') and contains(@class, 'css-1fhfbim') and text()='Yoga']    10s
    Click Element    xpath=//span[contains(@class, 'BookingForm-module__Topic--Tag') and contains(@class, 'css-1fhfbim') and text()='Yoga']
    Sleep    10s
    Click Element    xpath://*[text()='Next']
    Sleep    5s
    Click Element    xpath=(//div[contains(@class, 'chakra-accordion__item')]//button)[3]
    Sleep    2s
    ${js}=    Set Variable    document.querySelectorAll('.BookingForm-module__Time--Tag')[3].click();
    Execute JavaScript    ${js}
    Click Element    xpath://*[text()='Verify Session']
    Sleep    5s
    Wait Until Element Is Visible    xpath://*[text()='Book Session']
    Click Element    xpath://*[text()='Book Session']
    Sleep    10s
    Wait Until Element Is Visible    xpath://*[text()='Got it!']
    Click Element    xpath://*[text()='Got it!']
    Sleep    6s
